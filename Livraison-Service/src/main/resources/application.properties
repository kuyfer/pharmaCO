# Basic Configuration
spring.application.name=Livraison-Service
server.port=8084

# Disable Spring Cloud for now
spring.cloud.config.enabled=false
spring.cloud.discovery.enabled=true

# ===============================
# DATABASE CONFIGURATION (H2)
# ===============================
# Changed from commandeservicedb to livraisonservicedb (unique to this service)
spring.datasource.url=jdbc:h2:mem:livraisonservicedb
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# ===============================
# JPA / HIBERNATE CONFIGURATION
# ===============================
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# ===============================
# H2 CONSOLE CONFIGURATION
# ===============================
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# ===============================
# GEOLOCATION API CONFIGURATION
# ===============================
# OpenStreetMap Nominatim API (free, no API key needed)
app.geolocation.api.url=https://nominatim.openstreetmap.org
# User-Agent is REQUIRED for Nominatim API
app.geolocation.api.user-agent=PharmaDelivery/1.0

# Mock API for testing (when real API fails or for development)
app.mock.geolocation.enabled=true

# ===============================
# DELIVERY CALCULATION CONFIGURATION
# ===============================
# Base preparation time in minutes
app.delivery.base-time-minutes=30
# Additional minutes per kilometer
app.delivery.per-km-minutes=2

# ===============================
# LOGGING CONFIGURATION
# ===============================
logging.level.pharma.Livraison_Service=DEBUG
logging.level.org.springframework.web.reactive.function.client=DEBUG
logging.level.org.springframework.web=DEBUG

# ===============================
# EUREKA CONFIGURATION (if using)
# ===============================
# Force Eureka to use localhost instead of hostname
eureka.instance.hostname=localhost
eureka.instance.prefer-ip-address=false
eureka.instance.instance-id=${spring.application.name}:${server.port}